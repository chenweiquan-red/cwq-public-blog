export const data = JSON.parse("{\"key\":\"v-1e4fa502\",\"path\":\"/posts/%E4%B8%AD%E9%97%B4%E4%BB%B6/mysql/mysql%E8%B0%83%E4%BC%98.html\",\"title\":\"mysql 调优\",\"lang\":\"zh-CN\",\"frontmatter\":{\"title\":\"mysql 调优\",\"icon\":\"fire\",\"category\":[\"mysqll\"],\"tag\":[\"mysql 调优\"],\"description\":\"mysql调优 开启慢sql日志配置[mysqld] # 慢查询开启：1 关闭：0 slow_query_log = 1 # 慢查询日志记录 slow_query_log_file = /var/log/mysql/mysql-slow.log # 慢查询时间 一般10S， 这里0.1只是为了验证 long_query_time = 0.1 查询慢sql是否开启等功能 命令 # 查看慢sql是否开启及参数 show variables like '%slow%'; show variables like '%long_query%'; binlog 开启binlog日志功能 配置# binlog 配置 log-bin = /var/log/mysql/mysql-bin.log # 过期时间 3600 * 24 * 7, 默认是30天 binlog_expire_logs_seconds = 604800 # binlog最大容量 默认是 1G max_binlog_size = 500M # server-id 配置 server-id = 1 查看binlog 命令# mysql8 默认开启 SHOW VARIABLES LIKE 'log_bin'; # 查看现有在用的binlog日志 SHOW master logs; # 手动清除binlog日志 reset master; # 关闭binlog vim /etc/my.cnf [mysqld] skip-log-bin # 查看binlog过期时间 show variables like '%binlog_expire_logs_seconds%';\",\"head\":[[\"meta\",{\"property\":\"og:url\",\"content\":\"https://github.com/chenweiquan-red/posts/%E4%B8%AD%E9%97%B4%E4%BB%B6/mysql/mysql%E8%B0%83%E4%BC%98.html\"}],[\"meta\",{\"property\":\"og:site_name\",\"content\":\"WQ-知识库\"}],[\"meta\",{\"property\":\"og:title\",\"content\":\"mysql 调优\"}],[\"meta\",{\"property\":\"og:description\",\"content\":\"mysql调优 开启慢sql日志配置[mysqld] # 慢查询开启：1 关闭：0 slow_query_log = 1 # 慢查询日志记录 slow_query_log_file = /var/log/mysql/mysql-slow.log # 慢查询时间 一般10S， 这里0.1只是为了验证 long_query_time = 0.1 查询慢sql是否开启等功能 命令 # 查看慢sql是否开启及参数 show variables like '%slow%'; show variables like '%long_query%'; binlog 开启binlog日志功能 配置# binlog 配置 log-bin = /var/log/mysql/mysql-bin.log # 过期时间 3600 * 24 * 7, 默认是30天 binlog_expire_logs_seconds = 604800 # binlog最大容量 默认是 1G max_binlog_size = 500M # server-id 配置 server-id = 1 查看binlog 命令# mysql8 默认开启 SHOW VARIABLES LIKE 'log_bin'; # 查看现有在用的binlog日志 SHOW master logs; # 手动清除binlog日志 reset master; # 关闭binlog vim /etc/my.cnf [mysqld] skip-log-bin # 查看binlog过期时间 show variables like '%binlog_expire_logs_seconds%';\"}],[\"meta\",{\"property\":\"og:type\",\"content\":\"article\"}],[\"meta\",{\"property\":\"og:locale\",\"content\":\"zh-CN\"}],[\"meta\",{\"property\":\"og:updated_time\",\"content\":\"2024-08-28T06:38:20.000Z\"}],[\"meta\",{\"property\":\"article:author\",\"content\":\"Durant\"}],[\"meta\",{\"property\":\"article:tag\",\"content\":\"mysql 调优\"}],[\"meta\",{\"property\":\"article:modified_time\",\"content\":\"2024-08-28T06:38:20.000Z\"}],[\"script\",{\"type\":\"application/ld+json\"},\"{\\\"@context\\\":\\\"https://schema.org\\\",\\\"@type\\\":\\\"Article\\\",\\\"headline\\\":\\\"mysql 调优\\\",\\\"image\\\":[\\\"\\\"],\\\"dateModified\\\":\\\"2024-08-28T06:38:20.000Z\\\",\\\"author\\\":[{\\\"@type\\\":\\\"Person\\\",\\\"name\\\":\\\"Durant\\\",\\\"url\\\":\\\"https://www.wqknowledge.top/\\\"}]}\"]]},\"headers\":[{\"level\":3,\"title\":\"mysql调优\",\"slug\":\"mysql调优\",\"link\":\"#mysql调优\",\"children\":[]}],\"git\":{\"createdTime\":1724827100000,\"updatedTime\":1724827100000,\"contributors\":[{\"name\":\"durant\",\"email\":\"durantdurant904@gmail.com\",\"commits\":1}]},\"readingTime\":{\"minutes\":0.7,\"words\":209},\"filePathRelative\":\"posts/中间件/mysql/mysql调优.md\",\"localizedDate\":\"2024年8月28日\",\"excerpt\":\"<h3> mysql调优</h3>\\n<ul>\\n<li>开启慢sql日志配置<div class=\\\"language-text line-numbers-mode\\\" data-ext=\\\"text\\\"><pre class=\\\"language-text\\\"><code>[mysqld]\\n# 慢查询开启：1  关闭：0\\n\\n  slow_query_log = 1\\n\\n  # 慢查询日志记录\\n  slow_query_log_file = /var/log/mysql/mysql-slow.log\\n\\n  # 慢查询时间 一般10S， 这里0.1只是为了验证\\n  long_query_time = 0.1\\n</code></pre><div class=\\\"line-numbers\\\" aria-hidden=\\\"true\\\"><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div></div></div></li>\\n<li>查询慢sql是否开启等功能 命令<div class=\\\"language-bash line-numbers-mode\\\" data-ext=\\\"sh\\\"><pre class=\\\"language-bash\\\"><code>  <span class=\\\"token comment\\\"># 查看慢sql是否开启及参数</span>\\n  show variables like <span class=\\\"token string\\\">'%slow%'</span><span class=\\\"token punctuation\\\">;</span>\\n  show variables like <span class=\\\"token string\\\">'%long_query%'</span><span class=\\\"token punctuation\\\">;</span>\\n</code></pre><div class=\\\"line-numbers\\\" aria-hidden=\\\"true\\\"><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div></div></div></li>\\n<li>binlog\\n<ul>\\n<li>开启binlog日志功能 配置<div class=\\\"language-text line-numbers-mode\\\" data-ext=\\\"text\\\"><pre class=\\\"language-text\\\"><code># binlog 配置\\nlog-bin = /var/log/mysql/mysql-bin.log\\n\\n# 过期时间 3600 * 24 * 7, 默认是30天\\nbinlog_expire_logs_seconds = 604800\\n\\n# binlog最大容量 默认是 1G\\nmax_binlog_size = 500M\\n\\n# server-id 配置\\nserver-id = 1\\n</code></pre><div class=\\\"line-numbers\\\" aria-hidden=\\\"true\\\"><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div></div></div></li>\\n<li>查看binlog 命令<div class=\\\"language-bash line-numbers-mode\\\" data-ext=\\\"sh\\\"><pre class=\\\"language-bash\\\"><code><span class=\\\"token comment\\\"># mysql8 默认开启</span>\\n  SHOW VARIABLES LIKE <span class=\\\"token string\\\">'log_bin'</span><span class=\\\"token punctuation\\\">;</span>\\n\\n<span class=\\\"token comment\\\"># 查看现有在用的binlog日志</span>\\n  SHOW master logs<span class=\\\"token punctuation\\\">;</span>\\n\\n<span class=\\\"token comment\\\"># 手动清除binlog日志</span>\\n reset master<span class=\\\"token punctuation\\\">;</span>\\n\\n<span class=\\\"token comment\\\"># 关闭binlog</span>\\n<span class=\\\"token function\\\">vim</span> /etc/my.cnf\\n\\n<span class=\\\"token punctuation\\\">[</span>mysqld<span class=\\\"token punctuation\\\">]</span>\\nskip-log-bin\\n\\n<span class=\\\"token comment\\\"># 查看binlog过期时间</span>\\nshow variables like <span class=\\\"token string\\\">'%binlog_expire_logs_seconds%'</span><span class=\\\"token punctuation\\\">;</span>\\n</code></pre><div class=\\\"line-numbers\\\" aria-hidden=\\\"true\\\"><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div></div></div><img src=\\\"https://wqknowledge.oss-cn-shenzhen.aliyuncs.com/mysql/mysql1.png\\\" alt=\\\"\\\" tabindex=\\\"0\\\" loading=\\\"lazy\\\"><figcaption></figcaption></li>\\n</ul>\\n</li>\\n</ul>\",\"autoDesc\":true}")
